{% extends "app_base.html" %}

{% load i18n humanize %}

{% block title %}
  {% trans "Validation Run" %} #{{ validation.pk }} Â· SimpleValidations
{% endblock title %}

{% block left_sidebar %}
  {% include "app/partial/components/app_left_nav.html" %}
{% endblock left_sidebar %}

{% block app_content %}
  <div class="container-fluid" id="validation-detail">

    <div class="app-content-header-bar row">
      <div class="app-content-header col-8">
        <h1 class="app-page-title">
          {% trans "Validation Run" %} #{{ validation.pk }}
        </h1>
      </div>
      <div class="col-4 d-flex justify-content-end align-items-center gap-2 app-page-actions">
        <a class="btn btn-outline-secondary"
           href="{% url 'workflows:workflow_detail' validation.workflow_id %}">
          <i class="bi-journal-text me-1"></i>
          {% trans "View Workflow" %}
        </a>
        <button type="button"
                class="btn btn-outline-danger"
                hx-delete="{% url 'validations:validation_delete' validation.pk %}"
                hx-target="body"
                hx-confirm="{% trans "Delete this validation run?" %}">
          <i class="bi-trash me-1"></i>
          {% trans "Delete" %}
        </button>
      </div>
    </div>

    <div class="row">

      <div class="col-12 col-xxl-7 mb-3">
        {% include "workflows/results/partials/block_validation_run_step_findings.html" with step_runs=step_runs %}
      </div>

      <div class="col-12 col-xxl-5 order-first order-xxl-last mb-3">

        {% include "workflows/results/partials/block_validation_run_summary.html" with run=validation step_runs=step_runs %}

      </div>

    </div>

  </div>
</div>
{% endblock app_content %}
